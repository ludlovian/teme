var n="function"==typeof Symbol?Symbol:function(n){return"$teme$_"+n},t=n("value"),r=n("notify"),e=n("detacher");function i(n){var t=o(n);return u(t),t}function o(n){var o;function u(){if(0!==arguments.length){var n=arguments[0];u[t]=n,Array.from(u[r]).forEach(function(t){return t(n)})}return u[t]}return Object.defineProperties(u,((o={})[t]={value:n,configurable:!0,writable:!0},o[r]={value:new Set,configurable:!0,writable:!0},o[e]={value:new Set,configurable:!0,writable:!0},o)),Object.setPrototypeOf(u,i.prototype),u}function u(n){n.end=o(),n.end.subscribe(function(){c(n.end),c(n)})}function c(n){n[r].clear(),Array.from(n[e]).forEach(function(n){return n()}),n[e].clear()}function f(n,t){return n===t}i.combine=function(n,t,r){void 0===r&&(r={});var i=o();function c(r){var e=n.apply(void 0,t.concat([i],[r]));null!=e&&i(e)}return u(i),r.skip?i(r.initial):c(t),t.forEach(function(n){i[e].add(n.subscribe(function(){return c([n])})),i.end[e].add(n.end.subscribe(function(n){return i.end(n)}))}),i},i.prototype={subscribe:function(n){var t=this;return this[r].add(n),function(){return t[r].delete(n)}},map:function(n,t){return i.combine(function(t){return n(t())},[this],t)},clone:function(){return this.map(function(n){return n})},merge:function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return i.merge.apply(i,[this].concat(n))},scan:function(n,t){return this.map(function(r){return t=n(t,r)},{skip:!0,initial:t})},dedupe:function(n,t){var r;return n&&"object"==typeof n&&(t=n,n=void 0),n=n||f,(t=t||{}).skip||(r=this()),i.combine(function(t,e){var i=t();n(r,i)||e(i),r=i},[this],{skip:!0,initial:r})},when:function(n){var t,r,e=function(){return new Promise(function(n){t=n})},i=e();return n(this())&&(r=!0,t()),this.scan(function(i,o){return n(o)?r||(r=!0,t()):r&&(r=!1,i=e()),i},i)},changed:function(){var n=this;return new Promise(function(t){var r=n.subscribe(function(n){t(n),r()})})},throttle:function(n){var t,r,e=this,o=function(){c(e()),r=!1},u=function(){return setTimeout(function(){r?(o(),t=u()):t=null},n)},c=i.combine(function(){t?r=!0:(o(),t=u())},[this],{skip:!0});return c},debounce:function(n){var t,r=this,e=function(){o(r()),t=null},o=i.combine(function(){t&&clearTimeout(t),t=setTimeout(e,n)},[this],{skip:!0});return o}},i.merge=function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];return i.combine(function(){for(var n=[],t=arguments.length;t--;)n[t]=arguments[t];var r=n.pop(),e=n.pop();r.forEach(function(n){return e(n())})},n,{skip:!0})},i.fromPromise=function(n){var t=i();return n.then(function(n){t(n),t.end(!0)},function(r){if(!(r instanceof Error)){var e=new Error("Rejected promise");e.promise=n,e.reason=r,r=e}t(r),t.end(!0)}),t},Object.setPrototypeOf(i.prototype,Function.prototype);export default i;
//# sourceMappingURL=index.mjs.map
